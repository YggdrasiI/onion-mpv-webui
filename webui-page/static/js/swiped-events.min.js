/*!
 * swiped-events.js - v1.3.0
 * Pure JavaScript swipe events
 * https://github.com/john-doherty/swiped-events
 * @inspiration https://stackoverflow.com/questions/16348031/disable-scrolling-when-touch-moving-certain-element
 * @author John Doherty <www.johndoherty.info>
 * @license MIT
 */
!function(t,e){"use strict";"function"!=typeof t.CustomEvent&&(t.CustomEvent=function(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var o=e.createEvent("CustomEvent");return o.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),o},t.CustomEvent.prototype=t.Event.prototype),e.addEventListener("touchstart",function(e){n&&console.log("Touch start");n&&console.log(e.timeStamp);n&&console.log(`Touch start x + ${e.changedTouches.length} = ${e.touches.length}`);if(e.changedTouches.length<e.touches.length)return e.timeStamp-s.timestampStart1>=100?void(n&&console.log("Delayed second touch ignored")):void(s.timestampStart2=e.timeStamp);if("true"===c(e.target,"data-swipe-ignore","false"))return void(s.timestampStart1=-1);const o=e.touches[0];(s={idFinger1:o.identifier,timestampStart1:e.timeStamp,timestampStart2:e.changedTouches.length>1?e.timeStamp:null,xDown:o.screenX,yDown:o.screenY,targetStart:e.target}).scrollPositionsDown=[],l(s.scrollPositionsDown,e.target,e.currentTarget||t)},!1),e.addEventListener("touchend",function(u){n&&console.log(`Touch ${u.changedTouches[0].identifier==s.idFinger1?1:2} end ${u.changedTouches.length}`);n&&console.log(u.timeStamp);n&&console.log(`TDiff: ${u.timeStamp-s.timestampStart1}`);let d=!1;for(let e=0;e<u.changedTouches.length;++e)if(u.changedTouches[e].identifier===s.idFinger1){const n=u.changedTouches[e];s.xUp=n.screenX,s.yUp=n.screenY,s.timestampEnd1=u.timeStamp,s.touchType=n.touchType||"direct",s.scrollPositionsUp=[],l(s.scrollPositionsUp,u.target,u.currentTarget||t),d=!0;break}!1===d&&1===u.touches.length&&(s.timestampEnd2=u.timeStamp);if(0===u.touches.length){if(u.changedTouches.length>1&&(s.timestampEnd2=u.timeStamp),u.timeStamp-s.timestampEnd1>=100)return void(n&&console.log("First finger released too early. Ignore gesture"));!function(t){const n=s.targetStart;if(s.targetStart!==t.target)return;if(console.log(t),function(t,e){if(t.length!==e.length)return!0;for(let n=0;n<t.length;++n){const r=Math.abs(t[n][0]-e[n][0]),i=Math.abs(t[n][1]-e[n][1]);if(r>o||i>o)return!0}return!1}(s.scrollPositionsDown,s.scrollPositionsUp))return void console.log("Scrolled!!!!");var l=parseInt(c(n,"data-swipe-threshold","20"),10),u=c(n,"data-swipe-unit","px"),d=parseInt(c(n,"data-swipe-timeout","500"),10);"vh"===u&&(l=Math.round(l/100*e.documentElement.clientHeight));"vw"===u&&(l=Math.round(l/100*e.documentElement.clientWidth));const p=s.xDown-s.xUp,h=s.yDown-s.yUp,m=s.timestampEnd1-s.timestampStart1;var g=function(t,e,n,o,r){if(Math.abs(t)<=o&&Math.abs(e)<=o)return null;if(n>=r)return null;const i=Math.atan2(e,t)*(4/Math.PI),s=Math.floor(i+.5+4);return a[s]}(p,h,m,l,d);if(null!==g){var f={dir:g.replace(/swiped-/,""),touchType:s.touchType,xStart:parseInt(s.xDown,10),xEnd:parseInt(s.xUp,10),yStart:parseInt(s.yDown,10),yEnd:parseInt(s.yUp,10),fingers:s.timestampEnd2?2:1};i&&n.dispatchEvent(new CustomEvent("swiped",{bubbles:!0,cancelable:!0,detail:f})),r&&n.dispatchEvent(new CustomEvent(g,{bubbles:!0,cancelable:!0,detail:f}))}s={}}(u)}},!1);const n=!1,o=50,r=!1,i=!0,a=["swiped-right",null,"swiped-down",null,"swiped-left",null,"swiped-up",null,"swiped-right"];var s=null;function l(t,e,n){let o=e;for(;o&&(t.push([o.scrollTop,o.scrollLeft]),(o=o.parentElement)!==n););}function c(t,n,o){for(;t&&t!==e.documentElement;){var r=t.getAttribute(n);if(r)return r;t=t.parentNode}return o}}(window,document);